import{S as Xe,i as Ye,s as Ze,k as i,v as me,a as h,q,l as u,m as p,w as de,h as r,c as g,r as I,n as a,b as le,E as l,x as pe,M as te,F as ve,N as xe,u as oe,f as _e,t as he,y as ge,C as et,G as Ke}from"../../../chunks/index-646e022c.js";import{g as tt,u as lt,i as st}from"../../../chunks/navigation-ab624de0.js";import{B as Fe,u as Qe}from"../../../chunks/Button-3d0a8f75.js";import{U as at}from"../../../chunks/UserCircle-fca8d711.js";function nt(n){let s;return{c(){s=q(n[3])},l(e){s=I(e,n[3])},m(e,t){le(e,s,t)},p(e,t){t&8&&oe(s,e[3])},d(e){e&&r(s)}}}function ot(n){let s;return{c(){s=q("Update")},l(e){s=I(e,"Update")},m(e,t){le(e,s,t)},d(e){e&&r(s)}}}function rt(n){let s;return{c(){s=q("Cancel")},l(e){s=I(e,"Cancel")},m(e,t){le(e,s,t)},d(e){e&&r(s)}}}function it(n){let s;return{c(){s=q("Delete")},l(e){s=I(e,"Delete")},m(e,t){le(e,s,t)},d(e){e&&r(s)}}}function We(n){let s,e;return{c(){s=i("div"),e=q(n[5]),this.h()},l(t){s=u(t,"DIV",{class:!0});var m=p(s);e=I(m,n[5]),m.forEach(r),this.h()},h(){a(s,"class","error svelte-oqwn8o")},m(t,m){le(t,s,m),l(s,e)},p(t,m){m&32&&oe(e,t[5])},d(t){t&&r(s)}}}function ut(n){var Pe,Te,Me;let s,e,t,m,F,v,b,C=((Pe=n[6])==null?void 0:Pe.firstname)+"",A,N,H=((Te=n[6])==null?void 0:Te.lastname)+"",K,se,P,T=((Me=n[6])==null?void 0:Me.email)+"",Q,D,f,W,be,$e,re,we,y,M,Ee,qe,X,w,Ie,k,R,De,Ae,Y,E,Le,B,O,Ue,Ve,Z,$,Ce,ie,Ne,L,S,ye,U,ke,V,Be,j,Se,He;m=new at({props:{$$slots:{default:[nt]},$$scope:{ctx:n}}}),S=new Fe({props:{class:"bg-green-300 hover:bg-green-400",type:"submit",disabled:n[0],$$slots:{default:[ot]},$$scope:{ctx:n}}}),U=new Fe({props:{class:"ml-4 border-gray-300 hover:border-gray-400",type:"button",$$slots:{default:[rt]},$$scope:{ctx:n}}}),U.$on("click",n[8]),V=new Fe({props:{class:"bg-red-400 hover:bg-red-500 ml-4",type:"button",$$slots:{default:[it]},$$scope:{ctx:n}}}),V.$on("click",n[9]);let _=n[5]&&We(n);return{c(){s=i("section"),e=i("div"),t=i("div"),me(m.$$.fragment),F=h(),v=i("div"),b=i("h3"),A=q(C),N=h(),K=q(H),se=h(),P=i("small"),Q=q(T),D=h(),f=i("form"),W=i("h1"),be=q("Account"),$e=h(),re=i("hr"),we=h(),y=i("div"),M=i("label"),Ee=q("First name"),qe=h(),X=i("div"),w=i("input"),Ie=h(),k=i("div"),R=i("label"),De=q("Last name"),Ae=h(),Y=i("div"),E=i("input"),Le=h(),B=i("div"),O=i("label"),Ue=q("Email"),Ve=h(),Z=i("div"),$=i("input"),Ce=h(),ie=i("hr"),Ne=h(),L=i("div"),me(S.$$.fragment),ye=h(),me(U.$$.fragment),ke=h(),me(V.$$.fragment),Be=h(),_&&_.c(),this.h()},l(o){s=u(o,"SECTION",{class:!0});var c=p(s);e=u(c,"DIV",{class:!0});var G=p(e);t=u(G,"DIV",{});var x=p(t);de(m.$$.fragment,x),x.forEach(r),F=g(G),v=u(G,"DIV",{class:!0});var z=p(v);b=u(z,"H3",{});var J=p(b);A=I(J,C),N=g(J),K=I(J,H),J.forEach(r),se=g(z),P=u(z,"SMALL",{});var ae=p(P);Q=I(ae,T),ae.forEach(r),z.forEach(r),G.forEach(r),D=g(c),f=u(c,"FORM",{class:!0});var d=p(f);W=u(d,"H1",{class:!0});var ne=p(W);be=I(ne,"Account"),ne.forEach(r),$e=g(d),re=u(d,"HR",{class:!0}),we=g(d),y=u(d,"DIV",{class:!0});var ue=p(y);M=u(ue,"LABEL",{for:!0,class:!0});var Re=p(M);Ee=I(Re,"First name"),Re.forEach(r),qe=g(ue),X=u(ue,"DIV",{class:!0});var Oe=p(X);w=u(Oe,"INPUT",{id:!0,name:!0,autocomplete:!0,class:!0}),Oe.forEach(r),ue.forEach(r),Ie=g(d),k=u(d,"DIV",{class:!0});var ce=p(k);R=u(ce,"LABEL",{for:!0,class:!0});var je=p(R);De=I(je,"Last name"),je.forEach(r),Ae=g(ce),Y=u(ce,"DIV",{class:!0});var Ge=p(Y);E=u(Ge,"INPUT",{id:!0,name:!0,autocomplete:!0,class:!0}),Ge.forEach(r),ce.forEach(r),Le=g(d),B=u(d,"DIV",{class:!0});var fe=p(B);O=u(fe,"LABEL",{for:!0,class:!0});var ze=p(O);Ue=I(ze,"Email"),ze.forEach(r),Ve=g(fe),Z=u(fe,"DIV",{class:!0});var Je=p(Z);$=u(Je,"INPUT",{id:!0,type:!0,name:!0,autocomplete:!0,placeholder:!0,class:!0}),Je.forEach(r),fe.forEach(r),Ce=g(d),ie=u(d,"HR",{class:!0}),Ne=g(d),L=u(d,"DIV",{class:!0});var ee=p(L);de(S.$$.fragment,ee),ye=g(ee),de(U.$$.fragment,ee),ke=g(ee),de(V.$$.fragment,ee),ee.forEach(r),Be=g(d),_&&_.l(d),d.forEach(r),c.forEach(r),this.h()},h(){a(v,"class","mx-4 flex-col justify-between items-center"),a(e,"class","flex mr-8 overflow-hidden"),a(W,"class","text-5xl font-bold flex items-center"),a(re,"class","svelte-oqwn8o"),a(M,"for","account-first-name"),a(M,"class","svelte-oqwn8o"),w.required=!0,a(w,"id","account-first-name"),a(w,"name","first-name"),a(w,"autocomplete","on"),a(w,"class","svelte-oqwn8o"),a(X,"class","input svelte-oqwn8o"),a(y,"class","field svelte-oqwn8o"),a(R,"for","account-last-name"),a(R,"class","svelte-oqwn8o"),E.required=!0,a(E,"id","account-last-name"),a(E,"name","last-name"),a(E,"autocomplete","on"),a(E,"class","svelte-oqwn8o"),a(Y,"class","input svelte-oqwn8o"),a(k,"class","field svelte-oqwn8o"),a(O,"for","account-email"),a(O,"class","svelte-oqwn8o"),$.required=!0,a($,"id","account-email"),a($,"type","email"),a($,"name","email"),a($,"autocomplete","on"),a($,"placeholder","Email"),a($,"class","svelte-oqwn8o"),a(Z,"class","input svelte-oqwn8o"),a(B,"class","field svelte-oqwn8o"),a(ie,"class","svelte-oqwn8o"),a(L,"class","buttons"),a(f,"class","w-full"),a(s,"class","mt-8 p-4 h-full m-auto flex lg:container md:p-16 md:pt-8 xs:p-8 rounded-2xl")},m(o,c){le(o,s,c),l(s,e),l(e,t),pe(m,t,null),l(e,F),l(e,v),l(v,b),l(b,A),l(b,N),l(b,K),l(v,se),l(v,P),l(P,Q),l(s,D),l(s,f),l(f,W),l(W,be),l(f,$e),l(f,re),l(f,we),l(f,y),l(y,M),l(M,Ee),l(y,qe),l(y,X),l(X,w),te(w,n[1]),l(f,Ie),l(f,k),l(k,R),l(R,De),l(k,Ae),l(k,Y),l(Y,E),te(E,n[2]),l(f,Le),l(f,B),l(B,O),l(O,Ue),l(B,Ve),l(B,Z),l(Z,$),te($,n[4]),l(f,Ce),l(f,ie),l(f,Ne),l(f,L),pe(S,L,null),l(L,ye),pe(U,L,null),l(L,ke),pe(V,L,null),l(f,Be),_&&_.m(f,null),j=!0,Se||(He=[ve(w,"input",n[11]),ve(E,"input",n[12]),ve($,"input",n[13]),ve(f,"submit",xe(n[7]))],Se=!0)},p(o,[c]){var ae,d,ne;const G={};c&16392&&(G.$$scope={dirty:c,ctx:o}),m.$set(G),(!j||c&64)&&C!==(C=((ae=o[6])==null?void 0:ae.firstname)+"")&&oe(A,C),(!j||c&64)&&H!==(H=((d=o[6])==null?void 0:d.lastname)+"")&&oe(K,H),(!j||c&64)&&T!==(T=((ne=o[6])==null?void 0:ne.email)+"")&&oe(Q,T),c&2&&w.value!==o[1]&&te(w,o[1]),c&4&&E.value!==o[2]&&te(E,o[2]),c&16&&$.value!==o[4]&&te($,o[4]);const x={};c&1&&(x.disabled=o[0]),c&16384&&(x.$$scope={dirty:c,ctx:o}),S.$set(x);const z={};c&16384&&(z.$$scope={dirty:c,ctx:o}),U.$set(z);const J={};c&16384&&(J.$$scope={dirty:c,ctx:o}),V.$set(J),o[5]?_?_.p(o,c):(_=We(o),_.c(),_.m(f,null)):_&&(_.d(1),_=null)},i(o){j||(_e(m.$$.fragment,o),_e(S.$$.fragment,o),_e(U.$$.fragment,o),_e(V.$$.fragment,o),j=!0)},o(o){he(m.$$.fragment,o),he(S.$$.fragment,o),he(U.$$.fragment,o),he(V.$$.fragment,o),j=!1},d(o){o&&r(s),ge(m),ge(S),ge(U),ge(V),_&&_.d(),Se=!1,et(He)}}}function ct(n,s,e){let t,m;Ke(n,lt,D=>e(6,t=D)),Ke(n,st,D=>e(10,m=D));let F=!1,v=t==null?void 0:t.firstname,b=t==null?void 0:t.lastname,C=`${(v||"").charAt(0)}${(b||"").charAt(0)}`.toUpperCase(),A=t==null?void 0:t.email,N=null;async function H(){if(t===null){e(5,N="Not logged in");return}e(0,F=!0);const D=await Qe.editUser(t.id,{firstname:v,lastname:b,email:A});e(0,F=!1),"err"in D?e(5,N=D.err):e(5,N=null)}function K(){e(1,v=t==null?void 0:t.firstname),e(2,b=t==null?void 0:t.lastname),e(3,C=`${(v||"").charAt(0)}${(b||"").charAt(0)}`.toUpperCase()),e(4,A=t==null?void 0:t.email)}async function se(){confirm("Are you sure you want to delete your account?")&&t&&Qe.deleteUser(t.id)}function P(){v=this.value,e(1,v)}function T(){b=this.value,e(2,b)}function Q(){A=this.value,e(4,A)}return n.$$.update=()=>{n.$$.dirty&1024&&typeof window<"u"&&!m&&tt("/login")},[F,v,b,C,A,N,t,H,K,se,m,P,T,Q]}class vt extends Xe{constructor(s){super(),Ye(this,s,ct,ut,Ze,{})}}export{vt as default};
