import{L as g,S,i as T,s as w,H as C,O as p,k as U,l as v,m as y,h as m,P as F,n as N,b as O,E as q,F as f,I as H,J,K,Q as L,f as Q,t as R,C as W,R as k,T as B,U as h}from"./index-646e022c.js";import{b as P,p as j,d as z,c as D,a as A,u as E}from"./navigation-ab624de0.js";const G=()=>P("users","Failed to list users"),I=e=>P(`user/${e}`,"Failed to fetch user"),M=(e,s)=>j(`user/${e}`,s,"Failed to edit user"),V=e=>z(`user/${e}`,"Failed to delete user"),X=D([],{key:"users"}),ee={async listUsers(){const e=await G();return"data"in e&&X.set(e.data.users),e},async getUser(e){return await I(e)},async editUser(e,s){var o;const t=await M(e,s);return"data"in t&&((o=g(E))==null?void 0:o.id)===t.data.user.id&&A.updateUser(t.data.user),t},async deleteUser(e){var t;const s=await V(e);return"data"in s&&((t=g(E))==null?void 0:t.id)===e&&A.logout(),s}};function Y(e){let s,t,o,r,i,c;const _=e[3].default,l=C(_,e,e[2],null);let d=[{class:o=`${e[0].class||""}`},e[1]],u={};for(let a=0;a<d.length;a+=1)u=p(u,d[a]);return{c(){s=U("span"),t=U("button"),l&&l.c(),this.h()},l(a){s=v(a,"SPAN",{"data-component":!0});var n=y(s);t=v(n,"BUTTON",{class:!0});var b=y(t);l&&l.l(b),b.forEach(m),n.forEach(m),this.h()},h(){F(t,u),N(s,"data-component","button")},m(a,n){O(a,s,n),q(s,t),l&&l.m(t,null),t.autofocus&&t.focus(),r=!0,i||(c=[f(t,"click",e[4]),f(t,"mouseover",e[5]),f(t,"mouseenter",e[6]),f(t,"mouseleave",e[7]),f(t,"focus",e[8])],i=!0)},p(a,[n]){l&&l.p&&(!r||n&4)&&H(l,_,a,a[2],r?K(_,a[2],n,null):J(a[2]),null),F(t,u=L(d,[(!r||n&1&&o!==(o=`${a[0].class||""}`))&&{class:o},n&2&&a[1]]))},i(a){r||(Q(l,a),r=!0)},o(a){R(l,a),r=!1},d(a){a&&m(s),l&&l.d(a),i=!1,W(c)}}}function Z(e,s,t){const o=[];let r=k(s,o),{$$slots:i={},$$scope:c}=s;function _(n){h.call(this,e,n)}function l(n){h.call(this,e,n)}function d(n){h.call(this,e,n)}function u(n){h.call(this,e,n)}function a(n){h.call(this,e,n)}return e.$$set=n=>{t(0,s=p(p({},s),B(n))),t(1,r=k(s,o)),"$$scope"in n&&t(2,c=n.$$scope)},s=B(s),[s,r,c,i,_,l,d,u,a]}class se extends S{constructor(s){super(),T(this,s,Z,Y,w,{})}}export{se as B,X as a,ee as u};
